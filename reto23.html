<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Reto 23: ¿Cuánto vas a ahorrar? v3</title>
</head>
<style>
	body {
		display: flex;
		flex-direction: column;
		align-items: center;
	}
</style>

<body>
	<h1>¿Cuánto vas a ahorrar?</h1>
	<label for="number">Monto Inicial</label>
	<input type="number" name="number" id="amount">
	<label for="number">¿Cuantos meses quieres ahorrar?</label>
	<input type="number" name="number" id="month">
	<button id="btn-generar" type="button" onclick="handleGenerar()">Calcular Ahorro</button>
	<p id="result"></p>
	<script>
		let tax = 4;

		function calcular(amount, tax, month) {
			let total = amount;
			tax = Number.parseFloat(1 + (tax / 100));
			for (let i = 0; i < month; i++) {
				total = Number.parseFloat(total * tax);
			}

			return total.toFixed(2);
		}

		function orderMonth(months) {
			for (i = 0; i < months.length - 1; i++) {
				for (j = i + 1; j < months.length; j++) {
					if (months[i].month > months[j].month) {
						let aux = months[i].month;
						months[i].month = months[j].month;
						months[j].month = aux;
					}
				}
			}
			return months;
		}

		function handleGenerar() {
			let result = document.getElementById('result');
			let amount = Number.parseInt(document.getElementById('amount').value);
			let month = Number.parseInt(document.getElementById('month').value);

			let months = [
				{
					month: 6,
					total: 0,
				},
				{
					month: 12,
					total: 0,
				},
				{
					month: 24,
					total: 0,
				},
				{
					month,
					total: 0
				}
			];
			months = orderMonth(months);
			let message = "";
			months.map(item => {
				item.total = calcular(amount, tax, item.month);
				message += `Al mes ${item.month} ahorrarías ${item.total}$  <br />`;
			});
			result.innerHTML = message;
		}
	</script>
</body>

</html>