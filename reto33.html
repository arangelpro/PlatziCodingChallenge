<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Reto 33: Fibonacci de 10,000</title>
</head>
<style>
	body {
		display: flex;
		flex-direction: column;
		align-items: center;
	}
</style>

<body>
	<h1>Fibonacci de 10,000</h1>
	<label for="">Ingresa un n√∫mero:</label>
	<input id="number" type="number">
	<button type="button" onclick="handleFibonacci()">Calcular Fibonacci</button>
	<h2 id="result"></h2>
	<script>
		function fibonacci(n, memo) {
			memo = memo || {}
			if (memo[n]) {
				return memo[n]
			}
			if (n <= 1) {
				return 1
			}
			return memo[n] = fibonacci(n - 1, memo) + fibonacci(n - 2, memo)
		}
		function memoizer(fun) {
			let cache = {}
			return function (n) {
				if (cache[n] != undefined) {
					return cache[n]
				} else {
					let result = fun(n)
					cache[n] = result
					return result
				}
			}
		}
		const fibonacciMemoFunction = memoizer(fibonacci);
		function handleFibonacci() {
			let result = document.getElementById("result");

			let number = Number.parseInt(document.getElementById("number").value);
			let fibo = fibonacciMemoFunction(number);

			result.innerHTML = fibo;
		}
	</script>
</body>

</html>